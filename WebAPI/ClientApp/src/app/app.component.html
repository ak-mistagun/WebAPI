<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<form [formGroup]="form" novalidate *ngIf="feedbackIn == null; else response">
    <h1>Feedback For</h1>
    <div class="form-group">
        <label>Name:
            <input class="form-control" type="text" [(ngModel)]="feedbackOut.contact.name" formControlName="contact.name"/>
        </label>
        <label *ngIf="form.controls['contact.name'].invalid && form.controls['contact.name'].touched">
            name must be not empty
        </label>
    </div>
    <div class="form-group">
        <label>Email:
            <input class="form-control" type="email" [(ngModel)]="feedbackOut.contact.email" formControlName="contact.email"/>
        </label>
        <label *ngIf="form.controls['contact.email'].invalid && form.controls['contact.email'].touched">
            email must be not empty and match with pattern 'email'
        </label>
    </div>
    <div class="form-group">
        <label>Telephone:
            <input class="form-control" type="tel" [(ngModel)]="feedbackOut.contact.telephone" formControlName="contact.telephone"/>
        </label>
        <label *ngIf="form.controls['contact.email'].invalid && form.controls['contact.email'].touched">
            telephone must be not empty and match with pattern russian 'telephone'
        </label>
    </div>
    <div class="form-group">
        <label>Topic:
            <input class="form-control" type="text" [(ngModel)]="feedbackOut.topic.name" formControlName="topic.name"/>
        </label>
        <label *ngIf="form.controls['topic.name'].invalid && form.controls['topic.name'].touched">
            topic must be not empty
        </label>
    </div>
    <div class="form-group">
        <label>Message:
            <input class="form-control" type="text" [(ngModel)]="feedbackOut.message.text" formControlName="message.text"/>
        </label>
        <label *ngIf="form.controls['message.text'].invalid && form.controls['message.text'].touched">
            message must be not empty
        </label>
    </div>
    <div>
<!--        <re-captcha (resolved)="resolved($event)"
                    (error)="onError($event)"
                    errorMode="handled"
                    siteKey="6LcOuyYTAAAAAHTjFuqhA52fmfJ_j5iFk5PsfXaU">
        </re-captcha>-->
    </div>
    <div class="form-group">
        <button [disabled]="form.invalid" (click)="onSendFeedbackClick()">send</button>
    </div>
</form>

<ng-template #response>
    <div>
        <button (click)="onReset()">reset</button>
    </div>
    
    <div>
        <label>contact.id = {{feedbackIn.contact.id}}</label>
    </div>
    <div>
        <label>contact.name = {{feedbackIn.contact.name}}</label>
    </div>
    <div>
        <label>contact.email = {{feedbackIn.contact.email}}</label>
    </div>
    <div>
        <label>contact.telephone = {{feedbackIn.contact.telephone}}</label>
    </div>

    <div>
        <label>topic.id = {{feedbackIn.topic.id}}</label>
    </div>
    <div>
        <label>topic.name = {{feedbackIn.topic.name}}</label>
    </div>

    <div>
        <label>message.id = {{feedbackIn.message.id}}</label>
    </div>
    <div>
        <label>message.text = {{feedbackIn.message.text}}</label>
    </div>
</ng-template>

</body>
</html>